<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GIGAS - App de Vendas</title>

  <!-- Manifest + Favicon -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#004aad">

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>

  <style>
    body { margin:0; font-family: Arial, sans-serif; background:#121212; color:white; }
    header { background:#004aad; padding:15px; text-align:center; font-size:22px; font-weight:bold; }
    nav { display:flex; justify-content:center; gap:10px; background:#1e1e1e; padding:10px; }
    nav button { background:#004aad; border:none; padding:10px 15px; color:white; border-radius:5px; cursor:pointer; }
    nav button:hover { background:#08306b; }
    .page { display:none; padding:20px; }
    h2 { color:#2196f3; }
    .produto { background:#1e1e1e; padding:10px; border-radius:10px; margin:10px; text-align:center; }
    .produto img { width:100%; max-width:200px; border-radius:10px; }
    .produto h3 { margin:10px 0; }
    .produto p { margin:5px 0; }
    .produto button { background:#25d366; border:none; padding:10px; border-radius:5px; color:white; cursor:pointer; }
    .card { background:#1e1e1e; border-radius:10px; padding:20px; margin:20px auto; max-width:800px; }
    canvas { width:100% !important; height:300px !important; }
    input, select { padding:8px; margin:5px; border-radius:5px; border:none; }
    .splash { position:fixed; top:0; left:0; width:100%; height:100%; background:#004aad; display:flex; align-items:center; justify-content:center; flex-direction:column; color:white; font-size:24px; font-weight:bold; z-index:9999; }
  </style>
</head>
<body>

  <!-- Splash -->
  <div id="splash" class="splash">
    üöÄ Bem-vindo ao GIGAS<br>
    <small>Transforme seguidores em clientes agora mesmo!</small>
  </div>

  <!-- Cabe√ßalho -->
  <header>üì± GIGAS - App de Vendas</header>
  <nav>
    <button onclick="showPage('catalogo')">üõí Cat√°logo</button>
    <button onclick="showPage('cliente')">üë§ Cliente</button>
    <button onclick="showPage('admin')">‚öôÔ∏è Empres√°rio</button>
    <button onclick="showPage('dashboard')">üìä Dashboard</button>
  </nav>

  <!-- Cat√°logo -->
  <div id="catalogo" class="page">
    <h2>Cat√°logo de Produtos</h2>
    <div class="produto">
      <img src="https://via.placeholder.com/200x150.png?text=√Ågua+20L" alt="√Ågua">
      <h3>√Ågua Mineral 20L</h3>
      <p>R$ 10,00</p>
      <button onclick="pedidoWhats('√Ågua Mineral 20L')">Comprar</button>
    </div>
    <div class="produto">
      <img src="https://via.placeholder.com/200x150.png?text=Botij√£o+P13" alt="P13">
      <h3>Botij√£o P13</h3>
      <p>R$ 120,00</p>
      <button onclick="pedidoWhats('Botij√£o P13')">Comprar</button>
    </div>
  </div>

  <!-- Cliente -->
  <div id="cliente" class="page">
    <h2>Cadastro do Cliente</h2>
    <input type="text" id="nomeCliente" placeholder="Seu nome">
    <input type="text" id="whatsCliente" placeholder="Seu WhatsApp">
    <button onclick="cadastrarCliente()">Cadastrar</button>
    <p id="msgCliente"></p>
  </div>

  <!-- Admin -->
  <div id="admin" class="page">
    <h2>Painel do Empres√°rio</h2>
    <input type="text" id="nomeProduto" placeholder="Nome do produto">
    <input type="number" id="precoProduto" placeholder="Pre√ßo">
    <button onclick="adicionarProduto()">Adicionar Produto</button>
    <p id="msgAdmin"></p>
  </div>

  <!-- Dashboard -->
  <div id="dashboard" class="page">
    <h2>Dashboard em Tempo Real</h2>
    <div class="card"><canvas id="graficoVendas"></canvas></div>
    <div class="card"><canvas id="graficoProdutos"></canvas></div>
  </div>

<script>
  // ---------------- Splash ----------------
  setTimeout(()=>{ document.getElementById('splash').style.display='none'; showPage('catalogo'); },2000);

  // ---------------- Navega√ß√£o ----------------
  function showPage(id){
    document.querySelectorAll('.page').forEach(p=>p.style.display='none');
    document.getElementById(id).style.display='block';
    if(id==='dashboard') atualizarDashboard();
  }

  // ---------------- Cliente ----------------
  function cadastrarCliente(){
    let nome=document.getElementById('nomeCliente').value;
    let whats=document.getElementById('whatsCliente').value;
    localStorage.setItem('cliente',JSON.stringify({nome,whats}));
    document.getElementById('msgCliente').innerText="‚úÖ Cliente cadastrado com sucesso!";
  }

  // ---------------- Admin ----------------
  function adicionarProduto(){
    let nome=document.getElementById('nomeProduto').value;
    let preco=document.getElementById('precoProduto').value;
    document.getElementById('msgAdmin').innerText="Produto '"+nome+"' adicionado (simula√ß√£o).";
  }

  // ---------------- WhatsApp ----------------
  function pedidoWhats(produto){
    const cliente = JSON.parse(localStorage.getItem('cliente'))||{nome:'',whats:''};
    let msg=`Ol√°, quero comprar: ${produto}\nCliente: ${cliente.nome}\nWhats: ${cliente.whats}`;
    window.open(`https://wa.me/5551999999999?text=${encodeURIComponent(msg)}`,"_blank");
  }

  // ---------------- Dashboard ----------------
  function atualizarDashboard(){
    const ctx1=document.getElementById('graficoVendas').getContext('2d');
    new Chart(ctx1,{ type:'bar', data:{
      labels:["√Ågua 20L","Botij√£o P13"],
      datasets:[{ label:"Vendas", data:[12,8], backgroundColor:["#2196f3","#4caf50"] }]
    }, options:{ plugins:{legend:{labels:{color:'#fff'}}, datalabels:{color:'#fff',anchor:'end',align:'top'}},
    scales:{x:{ticks:{color:'#fff'}},y:{ticks:{color:'#fff'}}}}, plugins:[ChartDataLabels] });

    const ctx2=document.getElementById('graficoProdutos').getContext('2d');
    new Chart(ctx2,{ type:'pie', data:{
      labels:["√Ågua 20L","Botij√£o P13"],
      datasets:[{ data:[60,40], backgroundColor:["#2196f3","#4caf50"] }]
    }, options:{ plugins:{legend:{labels:{color:'#fff'}}}}, plugins:[ChartDataLabels] });
  }

  // ---------------- SW ----------------
  if("serviceWorker" in navigator){ navigator.serviceWorker.register("sw.js"); }
</script>

</body>
</html>